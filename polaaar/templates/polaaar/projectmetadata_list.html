{% extends "polaaar/base.html" %}
{% load static humanize url_replace %}

{% block title %}
    Dataset search
{% endblock title %}


{% block body_class %}{% endblock %}

{% block content %}
    <div class="container mt-4">
        <form action="." method="get"
              class="form-inline d-flex justify-content-center md-form form-sm mt-0">
            <i class="fas fa-search" aria-hidden="true"></i>
            {{ form }}
        </form>

        {% if page_obj.object_list %}
            <h6>{{ page_obj.start_index }} - {{ page_obj.end_index }} of {{ page_obj.paginator.count|intcomma }}
                results</h6>
            {% for project in object_list %}
                <a href="{% url 'polaaar:project_metadata_detail' project.pk %}" style="color:#0099CC"><h5 class="mt-4">{{ project.project_name }}</h5></a>
                {% if project.start_date %}
                <span class="fas fa-calendar mr-1" style="color: #0099CC;"></span>
                {{ project.start_date|date:'Y-m-d' }}{% if project.end_date %} to {{ project.end_date|date:'Y-m-d' }}{% endif %}
                {% endif %}
                <p>{{ project.abstract }}</p>
            {% endfor %}
        {% endif %}

        {% if is_paginated %}
            <nav>
                <ul class="pagination">
                    {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link"
                               href="?{% url_replace page=page_obj.previous_page_number %}">Previous</a>
                        </li>
                    {% endif %}
                    {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?{% url_replace page=page_obj.next_page_number %}">Next</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        {% endif %}

    </div>

{% endblock %}