<div class="row" style="border-width:0px;">
    <div class="col-12">



        <table id="myTable" class="display">
            <thead>
                <tr>
                    <th style="display:none">id</th>
                    <th>Project</th>
                    <th>Event hierarchy</th>
                    <th>Event</th>
                    <th>Sequence name</th>
                    <th>Gene</th>
                    <th>URL</th>                    
                </tr>
            </thead>
            <tbody>
                {% for i in qs %}
                <tr>
                    <td style="display:none">{{i.id}}</td>
                    <td>{{i.event.event_hierarchy.project_metadata.project_name}}</td>
                    <td>{{i.event.event_hierarchy.event_hierarchy_name}}</td>
                    <td>{{i.event.sample_name}}</td>
                    <td>{{i.sequence_name}}</td>
                    <td>{{i.target_gene}}</td>
                    <td>{{i.seqData_url}}</td>                    
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>

    <div class="col-3">
        <button class="btn btn-elegant btn-lg">Download CSV <i class="fas fa-file-csv pl-1"></i></button>        
    </div>
    <div class="col-3">
        <button class="btn btn-elegant btn-lg" onclick="getallJSON()">Download JSON <i class="fas fa-file-code pl-1"></i></button>
    </div>

</div>




<script>
    $(document).ready(function () {
        $('#myTable').DataTable();
    });


    function getallJSON() {
        var items = []
    
        ///// IF YOU CHANGE THE LOCATION OF THE HIDDEN COORDINATES COLUMN, DON'T FORGET TO CHANGE THE NTH CHILD LOCATION

        //Iterate all td's in second column
        $('#myTable tbody tr td:nth-child(1)').each( function(){
           //add item to array
           items.push( $(this).text() );
        });
        searchURL = '/pola3r/sequences/?id='.concat(items)
        window.open(searchURL)

    }

</script>